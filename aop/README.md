项目访问地址：http://localhost:1111/aop/user/findUserNameByTel?tel=1234567
AOP详解：https://www.cnblogs.com/zhouchangyang/p/10920202.html

AOP：面向切面编程
在程序设计中，我们需要满足低耦合高内聚，所以编程需满足六大原则，一个法则
AOP面向切面编程正式为了满足这些原则的一种编程思想


一.装饰者模式:
当我们需要给对象增加功能时,为了满足单一职责原则,可利用装饰者模式编程,创建一个类用来装饰原来的类,这个类写需要在原来的功能上增加的功能.这样我们就在不改变原来代码的基础上新增了功能,并且也满足单一职责的原则,降低了代码的耦合性.
但是如果接口里面有很多方法,如果每个方法都需要增加日志功能,这样就会出现很多重复代码,并且装饰者模式不能同时为多个没有关系的类同时增强
所以java引入动态代理技术来增加功能.


二.动态代理
在java里动态代理有两个实现方式:
①针对有接口的类的代理,使用jdk中反射包下的动态代理
②针对没有接口的类的代理,使用第三方的jar包Enhancer
如果一个类既没有接口,又是final,那么不能进行增强

1.第一种实现: reflect包下的Proxy
基于接口的动态代理,使用java内部反射包增强
这种方式创建对象是目标对象的兄弟对象.
这样实现了动态代理之后,不管实现的接口里有多少个方法,你只需调用该方法,就会增强该方法,而不需要针对每个方法写一遍增强功能,
并且这个增强类LogHandler类和原来的实现类BookSericeImpl类并没有耦合性,这就是说不管你是什么接口类的实现类,只需要对该类的对象进行代理即可,就能对该类的方法添加上这个新增的功能
总的来说,这种动态代理实现方式就是利用反射技术,找到调用的方法名,针对这个方法进行增强.
如果当不需要对某方法增加功能时,就不用不带.

2.第二种实现:cglib包下的Enhancer类
基于类的动态代理,使用cglib框架.
这种方式创建的代理对象是目标对象的子类对象
利用jar包中的Enhancer类创建增强对象.
创建增强对象需要根据原对象的类名创建类增强器,还需要根据原对象的类型创建子类代理对象
属性通过增强对象set方法赋值,上一种方式是通过调用方法Proxy.newProxyInstance传参.

总结:
两种方法的区别:
第一种是用jdk内部方法创建代理对象,由于创建过程中需要一个对象的接口,所以只能针对有接口类的对象进行代理.
第二种是利用第三方jar包中的增强器(Enhancer)创建代理对象,通过set方法给需要的属性赋值.由于没有接口实现,所以创建的是对象的子类代理对象.

